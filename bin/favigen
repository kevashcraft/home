#!/bin/bash
#
# converts a large icon into different sized optimized png's and an .ico file
#

# Resolutions
png_resolutions="16 32 64 76 96 120 128 128 144 152 180 195 196 228 270 558"
ico_resolutions="16 32 64"

for last; do true; done
for res in $png_resolutions; do
	convert $last -resize ${res}x${res}\! favicon-${res}.png
	optipng favicon-${res}.png -out favicon-${res}.png
done

for res in $ico_resolutions; do
	f=$f" favicon-${res}.png"
done

convert $f favicon.ico
